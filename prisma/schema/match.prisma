model Match {
  id        String      @id @default(cuid())
  user1Id   String
  user2Id   String
  status    MatchStatus @default(ACTIVE)
  matchedAt DateTime    @default(now())
  updatedAt DateTime    @updatedAt

  // Relations
  user1    User      @relation("MatchUser1", fields: [user1Id], references: [id], onDelete: Cascade)
  user2    User      @relation("MatchUser2", fields: [user2Id], references: [id], onDelete: Cascade)
  messages Message[]

  @@unique([user1Id, user2Id])
  @@index([user1Id])
  @@index([user2Id])
  @@index([status])
  @@index([matchedAt])
}

enum MatchStatus {
  ACTIVE
  UNMATCHED
}
